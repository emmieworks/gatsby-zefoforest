{"componentChunkName":"component---src-templates-post-js","path":"/gatsby-new-blog/","result":{"data":{"markdownRemark":{"id":"19ef0fdd-f4b9-5dfa-896c-8df0cd799d88","excerpt":"ブログをWordPressからGatsbyに変えました。 Gatsbyとは？ GatsbyはWebサイトのHTMLファイルを生成してくれるツールです。\n静的サイトジェネレーターと呼ばれています WordPressなどのCMSでは、データベースで記事を管理しています。\nURL…","tableOfContents":"<ul>\n<li><a href=\"/gatsby-new-blog/#gatsby%E3%81%A8%E3%81%AF%EF%BC%9F\">Gatsbyとは？</a></li>\n<li><a href=\"/gatsby-new-blog/#gatsby%E3%83%96%E3%83%AD%E3%82%B0%E3%81%AB%E3%81%97%E3%81%9F%E7%90%86%E7%94%B1\">Gatsbyブログにした理由</a></li>\n<li>\n<p><a href=\"/gatsby-new-blog/#gatsby%E3%81%A7%E3%83%96%E3%83%AD%E3%82%B0%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AB%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\">Gatsbyでブログを作るまでにやったこと</a></p>\n<ul>\n<li><a href=\"/gatsby-new-blog/#%E3%81%BE%E3%81%9A%E3%81%AF%E3%80%81gatsby%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\">まずは、Gatsbyをインストール</a></li>\n<li><a href=\"/gatsby-new-blog/#%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\">ページを作成する</a></li>\n<li><a href=\"/gatsby-new-blog/#2-%E7%94%BB%E5%83%8F%E3%81%AE%E8%A1%A8%E7%A4%BA\">2 画像の表示</a></li>\n<li><a href=\"/gatsby-new-blog/#3-css%E3%82%92%E4%BD%BF%E3%81%86\">3 CSSを使う</a></li>\n<li><a href=\"/gatsby-new-blog/#4-%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B\">4 フォントを変える</a></li>\n<li><a href=\"/gatsby-new-blog/#5-%E3%83%96%E3%83%AD%E3%82%B0%E8%A8%98%E4%BA%8B%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B\">5 ブログ記事を表示する</a></li>\n<li><a href=\"/gatsby-new-blog/#6-%E3%83%AF%E3%83%BC%E3%83%89%E3%83%97%E3%83%AC%E3%82%B9%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92gatsby%E3%81%AB%E7%A7%BB%E8%A1%8C%E3%81%99%E3%82%8B\">6 ワードプレスのデータをGatsbyに移行する</a></li>\n<li><a href=\"/gatsby-new-blog/#7-gatsby%E3%83%96%E3%83%AD%E3%82%B0%E3%82%92netlify%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\">7 GatsbyブログをNetlifyで公開する</a></li>\n<li><a href=\"/gatsby-new-blog/#8-%E3%83%8F%E3%83%B3%E3%83%90%E3%83%BC%E3%82%AC%E3%83%BC%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\">8 ハンバーガーメニューの作成</a></li>\n</ul>\n</li>\n<li><a href=\"/gatsby-new-blog/#%E5%8F%82%E8%80%83%E5%9B%B3%E6%9B%B8\">参考図書</a></li>\n</ul>","html":"<p>ブログをWordPressからGatsbyに変えました。</p>\n<h2 id=\"gatsbyとは？\" style=\"position:relative;\">Gatsbyとは？</h2>\n<p>GatsbyはWebサイトのHTMLファイルを生成してくれるツールです。\n静的サイトジェネレーターと呼ばれています</p>\n<p>WordPressなどのCMSでは、データベースで記事を管理しています。\nURLにアクセスされたときに、データベースから記事を取得して、HTMLを生成して表示させる仕組みです。</p>\n<p>一方で、静的ジェネレーターは、コンパイル時にHTMLファイルをあらかじめ生成していきます。\nURLにアクセスされた時には、生成してあったファイルを表示するだけなので、表示速度が早くなります。\nサーバーやデータベースの管理も不要になるので、セキュリティリスクが低くなるようです。</p>\n<h2 id=\"gatsbyブログにした理由\" style=\"position:relative;\">Gatsbyブログにした理由</h2>\n<p>Gatsbyブログのメリット</p>\n<ol>\n<li>サーバーが必要ないので、サーバー代が0円になる</li>\n<li>ブログ記事の更新履歴を管理できる</li>\n<li>ホームページの表示が早くなる</li>\n</ol>\n<p>逆にデメリットとしては、</p>\n<ol>\n<li>大量の記事を保管するサイトには向かない</li>\n<li>自分でプログラムを書く必要がある（gitやReact、GraphQLの知識が必要）</li>\n</ol>\n<h2 id=\"gatsbyでブログを作るまでにやったこと\" style=\"position:relative;\">Gatsbyでブログを作るまでにやったこと</h2>\n<h3 id=\"まずは、gatsbyをインストール\" style=\"position:relative;\">まずは、Gatsbyをインストール</h3>\n<p>Gatsbyをインストールします</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g gatsby-cli</code></pre></div>\n<p>ブログ用のテンプレート一式をダウンロードして、プロジェクトを作成します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gatsby new sample-blog https://github.com/gatsbyjs/gatsby-starter-blog</code></pre></div>\n<p>sample-blogはプロジェクト名で、好きなファイル名に変えてOK。\nsample-blogディレクトリの中に初期ファイルが作成されます。</p>\n<p>sample-blogディレクトリ内に移動し、開発サーバーを起動させます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd sample-blog\ngatsby develop</code></pre></div>\n<p>起動したら、Webブラウザで下記URLにアクセスします</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">http://localhost:8000/</code></pre></div>\n<p>画面上にHello world!が表示されればOK！</p>\n<p>ctrl+Cでサーバーを終了できます。</p>\n<h3 id=\"ページを作成する\" style=\"position:relative;\">ページを作成する</h3>\n<h3 id=\"2-画像の表示\" style=\"position:relative;\">2 画像の表示</h3>\n<p>gatsby-imageという機能を使うと、画像の最適化や高速化をしてくれます。</p>\n<p>プラグインを導入</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install gatsby-image\nnpm install gatsby-transformer-sharp gatsby-plugin-sharp\nnpm install gatsby-source-filesystem</code></pre></div>\n<p>gatsby-config.jsに設定</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">module.exports = {\n\n  .....\n\n  plugins: [\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        name: `src`,\n        path: `${__dirname}/src/assets/`,\n      },\n    },\n  ],\n}</code></pre></div>\n<p>graphQLで使いたい画像を取得。</p>\n<div class=\"gatsby-code-title\">Logo.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> Img <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-image\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link<span class=\"token punctuation\">,</span> useStaticQuery<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Logo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    query {\n      file(name: { eq: \"logo\" }, extension: { eq: \"png\" }) {\n        childImageSharp {\n          fluid(maxWidth: 100, pngQuality: 80) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Img fluid<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">}</span> alt<span class=\"token operator\">=</span><span class=\"token string\">\"logo\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Logo</code></pre></div>\n<p>※同じページで複数画像使うときはエイリアスをつかう。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export const query = graphql`\n     query {\n      apple: file(name: { eq: &quot;apple&quot; }, extension: { eq: &quot;png&quot; }) {\n        childImageSharp {\n          fluid(maxWidth: 100, pngQuality: 80) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      },\n      lemon: file(name: { eq: &quot;lemon&quot; }, extension: { eq: &quot;png&quot; }) {\n        childImageSharp {\n          fluid(maxWidth: 100, pngQuality: 80) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n    }\n  `)</code></pre></div>\n<p>画像の表示箇所</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;Img fluid={apple.file.childImageSharp.fluid} alt=&quot;apple&quot; /&gt;</code></pre></div>\n<h3 id=\"3-cssを使う\" style=\"position:relative;\">3 CSSを使う</h3>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/tutorial/part-two/\" target=\"_blank\" rel=\"noopener noreferrer\">Introduction to Styling in Gatsby</a></li>\n</ul>\n<h3 id=\"4-フォントを変える\" style=\"position:relative;\">4 フォントを変える</h3>\n<p>やり方①typography.jsを使う</p>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/docs/typography-js/\" target=\"_blank\" rel=\"noopener noreferrer\">Typography.js\n</a></li>\n</ul>\n<p>やり方②Typefaceを使う</p>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/docs/recipes/styling-css/#using-google-fonts\" target=\"_blank\" rel=\"noopener noreferrer\">Using Google Fonts</a></li>\n</ul>\n<p>typefaceをインストール</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save typeface-allura</code></pre></div>\n<p>typefaceの名前は↓のpackagesの中に入っています\n<a href=\"https://github.com/KyleAMathews/typefaces/\" target=\"_blank\" rel=\"noopener noreferrer\">the typefaces project</a></p>\n<p>gatsby-browser.jsにtypefaceを追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import &quot;typeface-allura&quot;</code></pre></div>\n<p>CSSにフォントファミリーを追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{ font-family: allura }</code></pre></div>\n<h3 id=\"5-ブログ記事を表示する\" style=\"position:relative;\">5 ブログ記事を表示する</h3>\n<ul>\n<li><a href=\"/gatsby-category-image/\">ブログのカテゴリー画像を表示させる</a></li>\n</ul>\n<h3 id=\"6-ワードプレスのデータをgatsbyに移行する\" style=\"position:relative;\">6 ワードプレスのデータをGatsbyに移行する</h3>\n<p>Wordpressから記事データ(XML形式)をエクスポートします。\nmarkdown形式に置き換えます。</p>\n<h3 id=\"7-gatsbyブログをnetlifyで公開する\" style=\"position:relative;\">7 GatsbyブログをNetlifyで公開する</h3>\n<ul>\n<li><a href=\"/gatsby-netlify/\">Gatsby+Netlifyデプロイから独自ドメイン設定まで</a></li>\n</ul>\n<h3 id=\"8-ハンバーガーメニューの作成\" style=\"position:relative;\">8 ハンバーガーメニューの作成</h3>\n<ul>\n<li><a href=\"https://snopkowski.com/blog/gatsby-navigation-styled-components\" target=\"_blank\" rel=\"noopener noreferrer\">Gatsby Navigation using Styled Components and useState hook</a></li>\n</ul>\n<h2 id=\"参考図書\" style=\"position:relative;\">参考図書</h2>\n<p>参考図書は、Gatsbyチュートリアルと本です。</p>\n<div class=\"cstmreba\"><div class=\"booklink-box\"><div class=\"booklink-image\"><a href=\"//af.moshimo.com/af/c/click?a_id=742757&p_id=56&pc_id=56&pl_id=637&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F16301755%2F\" target=\"_blank\" rel=\"nofollow\" ><img src=\"https://thumbnail.image.rakuten.co.jp/@0_mall/book/cabinet/3001/9784839973001.jpg?_ex=200x200\" style=\"border: none;\" /></a><img src=\"//i.moshimo.com/af/i/impression?a_id=742757&p_id=56&pc_id=56&pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"></div><div class=\"booklink-info\"><div class=\"booklink-name\"><a href=\"//af.moshimo.com/af/c/click?a_id=742757&p_id=56&pc_id=56&pl_id=637&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F16301755%2F\" target=\"_blank\" rel=\"nofollow\" >Webサイト高速化のための　静的サイトジェネレーター活用入門</a><img src=\"//i.moshimo.com/af/i/impression?a_id=742757&p_id=56&pc_id=56&pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"><div class=\"booklink-powered-date\">posted with <a href=\"https://yomereba.com\" rel=\"nofollow\" target=\"_blank\">ヨメレバ</a></div></div><div class=\"booklink-detail\">エビスコム マイナビ出版 2020年06月01日    </div><div class=\"booklink-link2\"><div class=\"shoplinkrakuten\"><a href=\"//af.moshimo.com/af/c/click?a_id=742757&p_id=56&pc_id=56&pl_id=637&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F16301755%2F\" target=\"_blank\" rel=\"nofollow\" >楽天ブックス</a><img src=\"//i.moshimo.com/af/i/impression?a_id=742757&p_id=56&pc_id=56&pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"></div><div class=\"shoplinkamazon\"><a href=\"https://www.amazon.co.jp/exec/obidos/asin/4839973008/filledfores07-22/\" target=\"_blank\" rel=\"nofollow\" >Amazon</a></div><div class=\"shoplinkkindle\"><a href=\"https://www.amazon.co.jp/gp/search?keywords=Web%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%80%80%E9%9D%99%E7%9A%84%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E3%83%BC%E6%B4%BB%E7%94%A8%E5%85%A5%E9%96%80&__mk_ja_JP=%83J%83%5E%83J%83i&url=node%3D2275256051&tag=filledfores07-22\" target=\"_blank\" rel=\"nofollow\" >Kindle</a></div><div class=\"shoplinkseven\"><a href=\"//af.moshimo.com/af/c/click?a_id=1082680&p_id=932&pc_id=1188&pl_id=12456&s_v=b5Rz2P0601xu&url=http%3A%2F%2F7net.omni7.jp%2Fsearch%2F%3FsearchKeywordFlg%3D1%26keyword%3D9784839973001\" target=\"_blank\" rel=\"nofollow\" >7net<img src=\"//i.moshimo.com/af/i/impression?a_id=1082680&p_id=932&pc_id=1188&pl_id=12456\" width=\"1\" height=\"1\" style=\"border:none;\"></a></div><div class=\"shoplinkbk1\"><a href=\"//ck.jp.ap.valuecommerce.com/servlet/referral?sid=3390948&pid=885314885&vc_url=http%3A%2F%2Fhonto.jp%2Fnetstore%2Fsearch_021_104839973008.html%3Fsrchf%3D1%26srchGnrNm%3D1&vcptn=kaereba\" target=\"_blank\" rel=\"nofollow\" >honto<img src=\"//ad.jp.ap.valuecommerce.com/servlet/gifbanner?sid=3390948&pid=885314885\" height=\"1\" width=\"1\" border=\"0\"></a></div>           <div class=\"shoplinkkino\"><a href=\"//ck.jp.ap.valuecommerce.com/servlet/referral?sid=3390948&pid=886623503&vc_url=http%3A%2F%2Fwww.kinokuniya.co.jp%2Ff%2Fdsg-01-9784839973001&vcptn=kaereba\" target=\"_blank\" rel=\"nofollow\" >紀伊國屋書店<img src=\"//ad.jp.ap.valuecommerce.com/servlet/gifbanner?sid=3390948&pid=886623503\" height=\"1\" width=\"1\" border=\"0\"></a></div>          <div class=\"shoplinkebj\"><a href=\"//ck.jp.ap.valuecommerce.com/servlet/referral?sid=3390948&pid=886623490&vc_url=https%3A%2F%2Febookjapan.yahoo.co.jp%2Fbooks%2F591249%2FA002386414%3Fdealerid%3D30064%26utm_source%3Dasp%26utm_medium%3Dmedi%26utm_campaign%3Drate_yome&vcptn=kaereba\" target=\"_blank\" rel=\"nofollow\" >ebookjapan<img src=\"//ad.jp.ap.valuecommerce.com/servlet/gifbanner?sid=3390948&pid=886623490\" height=\"1\" width=\"1\" border=\"0\"></a></div>      </div></div><div class=\"booklink-footer\"></div></div></div>","frontmatter":{"title":"WordPressからGatsby.jsにブログを変えました","date":"2020/07/04","updateDate":"2020/08/20","description":null,"category":"WebNote","tags":["Gatsby"],"featured":null}}},"pageContext":{"slug":"/gatsby-new-blog/","prev":{"fields":{"slug":"/radio-button-image/"},"frontmatter":{"title":"ラジオボタン／チェックボタンの代わりに画像を使う方法"}},"next":{"fields":{"slug":"/gatsby-netlify/"},"frontmatter":{"title":"Netlifyを使って、Gatsby.jsブログを独自ドメインで公開する手順"}}}},"staticQueryHashes":["1941199855","3628787746","4032985131"]}