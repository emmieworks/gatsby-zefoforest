{"componentChunkName":"component---src-templates-gallery-post-js","path":"/gallery/miniblog-app/","result":{"data":{"site":{"siteMetadata":{"title":"Zero Forest"}},"markdownRemark":{"id":"63028812-79c4-5fe8-9546-f0ec09c934ae","excerpt":"はじめてRailsアプリの作成〜デプロイまでやってみました。\nProgateでRailsのRuby on rails基礎を学んだので、その延長線上で勉強がてら、ミニブログ(CMS）を作ってみました。\ntitle: Ruby on Railsで日記アプリ（ミニブログ）を作る 完成品 https://minidiary…","tableOfContents":"<ul>\n<li>\n<p><a href=\"/miniblog-app/#%E5%AE%8C%E6%88%90%E5%93%81\">完成品</a></p>\n<ul>\n<li><a href=\"/miniblog-app/#%E4%B8%BB%E3%81%AA%E6%A9%9F%E8%83%BD\">主な機能</a></li>\n</ul>\n</li>\n<li><a href=\"/miniblog-app/#%E5%88%B6%E4%BD%9C%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9\">制作プロセス</a></li>\n<li>\n<p><a href=\"/miniblog-app/#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\">環境構築</a></p>\n<ul>\n<li><a href=\"/miniblog-app/#rails-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90\">Rails アプリケーションの作成</a></li>\n<li><a href=\"/miniblog-app/#rails-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\">Rails サーバーを起動する</a></li>\n<li><a href=\"/miniblog-app/#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E6%A7%8B%E6%88%90\">アプリケーションの構成</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/miniblog-app/#%E6%9C%AC%E7%95%AA%E7%92%B0%E5%A2%83%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B%EF%BC%88%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%EF%BC%89\">本番環境に公開する（デプロイ）</a></p>\n<ul>\n<li><a href=\"/miniblog-app/#gemfile%E3%81%AE%E8%A8%AD%E5%AE%9A\">Gemfileの設定</a></li>\n<li><a href=\"/miniblog-app/#github%E3%81%AB%E7%99%BB%E9%8C%B2\">GitHubに登録</a></li>\n<li><a href=\"/miniblog-app/#heroku%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\">Herokuで公開する</a></li>\n<li><a href=\"/miniblog-app/#%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%97%E3%81%9F%E3%81%A8%E3%81%8D\">プログラムを更新したとき</a></li>\n<li><a href=\"/miniblog-app/#heroku%E3%81%8B%E3%82%89%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E5%89%8A%E9%99%A4%E3%81%99%E3%82%8B%E3%81%A8%E3%81%8D\">Herokuからアプリを削除するとき</a></li>\n</ul>\n</li>\n<li><a href=\"/miniblog-app/#%E4%BB%8A%E5%BE%8C%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\">今後やりたいこと</a></li>\n</ul>","html":"<p>はじめてRailsアプリの作成〜デプロイまでやってみました。\nProgateでRailsのRuby on rails基礎を学んだので、その延長線上で勉強がてら、ミニブログ(CMS）を作ってみました。\ntitle: Ruby on Railsで日記アプリ（ミニブログ）を作る</p>\n<h2 id=\"完成品\" style=\"position:relative;\">完成品</h2>\n<p><a href=\"https://minidiary-app.herokuapp.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://minidiary-app.herokuapp.com/</a></p>\n<p>起動までに30秒程、時間がかかります。</p>\n<p>メアド：nekosan@cat.com\nパスワード:catcat\nで管理画面にログインできます。</p>\n<h3 id=\"主な機能\" style=\"position:relative;\">主な機能</h3>\n<p>【日記の管理】</p>\n<ul>\n<li>日記を投稿／編集／削除できる</li>\n<li>日記にカテゴリーを設定できる</li>\n</ul>\n<p>【カテゴリーの管理】</p>\n<ul>\n<li>カテゴリーを作成／編集／削除できる</li>\n</ul>\n<p>【ユーザーの管理】</p>\n<ul>\n<li>管理者としてログインできる</li>\n<li>ログインした管理者のみが日記を投稿／編集できる</li>\n</ul>\n<p>制作期間：8時間</p>\n<p> 【使った技術】</p>\n<ul>\n<li>Ruby on Rails</li>\n<li>SQLite</li>\n</ul>\n<h2 id=\"制作プロセス\" style=\"position:relative;\">制作プロセス</h2>\n<ol>\n<li>Rails アプリケーションの作成</li>\n<li>日記ページの作成</li>\n<li>カテゴリーを設定できるようにする</li>\n<li>ユーザーログインできるようにする</li>\n<li>Web上に公開する（デプロイ）</li>\n</ol>\n<p>基本的な作り方はProgateのレッスンにあったtweetアプリと同じ。\n環境構築とWeb公開するところは調べながらだったので、記録しておきます。</p>\n<h2 id=\"環境構築\" style=\"position:relative;\">環境構築</h2>\n<h3 id=\"rails-アプリケーションの作成\" style=\"position:relative;\">Rails アプリケーションの作成</h3>\n<p>プロジェクトを作成したいディレクトリ内で下記コマンドを実行。</p>\n<p><code class=\"language-text\">$ rails new miniblog</code></p>\n<h3 id=\"rails-サーバーを起動する\" style=\"position:relative;\">Rails サーバーを起動する</h3>\n<p>アプリケーション（miniblog）のディレクトリに移動して下記コマンドを実行。</p>\n<p><code class=\"language-text\">$ rails server</code></p>\n<p>Webブラウザから「localhost:3000」にアクセスすると、スタートページが表示される。</p>\n<h3 id=\"アプリケーションの構成\" style=\"position:relative;\">アプリケーションの構成</h3>\n<p>config/routes.rb → URLとコントローラをつなぐルーティングの記載\nviews → ここにHTMLファイルが入る。\nmodels →ここにデータのチェックを書く\ncontrollers → データベースの更新処理や、ビューで使う変数の設定\nassets/stylesheets→スタイルシートを入れる。（初期はapplication.cssになっているけれど、application.scssにファイル名を変更すれば、Sassで使える。）</p>\n<h2 id=\"本番環境に公開する（デプロイ）\" style=\"position:relative;\">本番環境に公開する（デプロイ）</h2>\n<p> 作ったプログラムをGitHubに登録し、Herokuで公開するようにします。</p>\n<h3 id=\"gemfileの設定\" style=\"position:relative;\">Gemfileの設定</h3>\n<p>Gemfileに、開発環境と本番環境の設定を記述します。\nもともとある「gem ‘sqlite3’」の行をコメントアウトして、group :development, :test do ~~ endの中に記述します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gem `sqlite3`\n\ngroup :development, :test do\ngem `sqlite3`\nend\n\ngroup :production do\ngem `pg`\nend</code></pre></div>\n<p> ターミナル上で下記コマンドを実行します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ bundle install --without production</code></pre></div>\n<div class=\"gatsby-code-title\">config/database.yml</div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">production<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span>default\nadapter<span class=\"token punctuation\">:</span> postgresql\nencoding<span class=\"token punctuation\">:</span> unicode\npool<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span></code></pre></div>\n<div class=\"gatsby-code-title\">test.config/environments/production.rb</div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">config<span class=\"token punctuation\">.</span>assets<span class=\"token punctuation\">.</span>compile <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span></code></pre></div>\n<h3 id=\"githubに登録\" style=\"position:relative;\">GitHubに登録</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git init\n$ git add -A\n$ git commit -m &quot;first commit&quot;</code></pre></div>\n<h3 id=\"herokuで公開する\" style=\"position:relative;\">Herokuで公開する</h3>\n<p>Herokuにログイン</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ heroku login\n$ heroku: Press any key to open up the browser to login or q to exit:</code></pre></div>\n<p>herokuのページが開くので、ログイン後に、ターミナルに戻る。</p>\n<p> 【アプリを作成】</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ heroku create アプリ名</code></pre></div>\n<p>※アプリ名はURLの一部になるため、他の人と同じ名前は登録できない。</p>\n<p>登録すると、アプリのアドレスが表示されます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ heroku create minidiary-app\nCreating ⬢ minidiary-app… done\nhttps://minidiary-app.herokuapp.com/ | https://git.heroku.com/minidiary-app.git</code></pre></div>\n<p>【デプロイ】</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git remote add heroku https://git.heroku.com/minidiary-app.git\n$ git push heroku master</code></pre></div>\n<p> 【本番環境にデータベースを作成】</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ heroku run rails db:migrate</code></pre></div>\n<p>Heroku上でのRails Console heroku上でもrails consoleを動かせます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ heroku run rails c</code></pre></div>\n<p>私はこれで、新規ユーザーを登録しました。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">user = User.new(name: &quot;ねこさん&quot;, email:&quot;nekosan@cat.com&quot;,password:&quot;catcat&quot;)\nuser.save</code></pre></div>\n<h3 id=\"プログラムを更新したとき\" style=\"position:relative;\">プログラムを更新したとき</h3>\n<p>変更したプログラムをデプロイ</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git add -A\n$ git commit -m &quot;Update app&quot;\n$ git push heroku master</code></pre></div>\n<p>テーブルを変更した場合は下記コマンドも実行</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ heroku run rails db:migrate</code></pre></div>\n<h3 id=\"herokuからアプリを削除するとき\" style=\"position:relative;\">Herokuからアプリを削除するとき</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ heroku apps:destroy --app アプリ名</code></pre></div>\n<p>アプリ名を再入力すると、削除完了</p>\n<h2 id=\"今後やりたいこと\" style=\"position:relative;\">今後やりたいこと</h2>\n<p>実際、使うにはまだ機能がほしいところ。\n文字を太くしたり、改行できるようにしたり、\nカテゴリーの順番入れ替えもできたらいいなぁと。</p>","frontmatter":{"title":"Ruby on Rails／ミニブログ","date":"2020/06/20","description":null,"category":"Web App","featured":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADkklEQVQ4yy2T6U/bdRzHf/+GMRHHFk2EubXQQn8UegG9aTsYlEKBMq4hp6icGmBjg04Y54AyYAXLHY8H6qZRfGA0cwlxDyaZQwoqUxCyecSnL78jPvjkk++R9/F55yO57Oko4uPQqlUYZA1WnQ6fw0G+zUpjQwNvtbYxGpqhsrqe7LwC8kuq8JdUUlBcTk1jE0WlFyirrsPpySHDmoXU091G/Mun0Msydr0en8WCy2DkvNlC8EoviytrTNycJhAI4C/yU9fUysDIBKMTISZDU9ycvUXfwCiNLZ0UVdQgjQwFORUbg+bsq3iMRi6WVtHc3s3Y5AzT4TmWVxcZGhsnNDbMN198QujGIB2tTbxWXUlrWxvhhVVGxHtLWysVNbVIS4uzZJrT8Xm9dHV0Mr/8AaurC6yvf8m39zaIzE9zqaeTxdkpfnt4n8e7UX6JbrFx92tWIjP0dLZTVV7CpSuX6ewNIvUPXKW5o53ZuQjh+Tluf/4Z74WnmJoa492+DvqvXaWlvZ35yWGi9++y+eAB0e0oj/f2ODjY568nf7AUmaOuvoY33+lCstgsePIKKa+sorq2nqHJaQHwNsXFXnIyX8Fh1uEvq2YlPMmje1/xw+amANzm550dtkU/PDwiHL5Frq+IDJsIJTc/n/PiUFhYQKG/kKbmZkrLS5FTUog9+RJ6g4Ecbz63P/2Yf/8+YvenH9neesRONMqOAH369AnXB/pxeFzHJbk9Tsw2GxkZeuxOKzaHSDnbhSnTxMnYWLLcTi7WVlDgy2VMBPP9xncc7v8qao+d7S0O9n8neC1I1jkn53LdSFqthtRUGbPZhN1hxuW243TZMabrsVpNFJf4yPVmYzBoSU5Ski7u32hq4KMP19jdfsg/fx7R3d2FPctKlseBpNGoSdHKpKVpMRp1wmIaKnUCGZki+QIvJpOBNF0qiYkJaFOSMei1pGrVyLKanGwPwWAXJQE/FpuZDCFKUigVJCYoxOckVKpENGJbvGKufjFPlUpNadkFhm9cJ8+bg1psk1KpFI60x65kOQm3sOp0OTH+TyydPh3Pszp7Jg5dmizYAkJdJjExL/Dc8zEUFge4s36HxbUIgyMD1NTVYrPbxLydXO7tY3BsEqc7WwhJRitIpLi4OOLFLj/rCUJpQqKSEydeRJGgIifPS2VVJf3DAwJwgeX3l4isRBgZH2U8FKLu9WZUsoEzCuUxYHJyEv8B+yhaLndX9xYAAAAASUVORK5CYII=","aspectRatio":1.5037593984962405,"src":"/static/cc24426020ad42bb65fd5d57f84dff32/ee604/icatch-20200620.png","srcSet":"/static/cc24426020ad42bb65fd5d57f84dff32/69585/icatch-20200620.png 200w,\n/static/cc24426020ad42bb65fd5d57f84dff32/497c6/icatch-20200620.png 400w,\n/static/cc24426020ad42bb65fd5d57f84dff32/ee604/icatch-20200620.png 800w,\n/static/cc24426020ad42bb65fd5d57f84dff32/f3583/icatch-20200620.png 1200w,\n/static/cc24426020ad42bb65fd5d57f84dff32/5707d/icatch-20200620.png 1600w,\n/static/cc24426020ad42bb65fd5d57f84dff32/21ecb/icatch-20200620.png 3200w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"/miniblog-app/"}},"staticQueryHashes":["1941199855","4032985131"]}