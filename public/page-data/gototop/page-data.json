{"componentChunkName":"component---src-templates-post-js","path":"/gototop/","result":{"data":{"site":{"siteMetadata":{"title":"Zero Forest"}},"markdownRemark":{"id":"47685b6b-a364-5f02-a167-8d8b0ea18f8e","excerpt":"ホームページにするーっと上へ戻るボタンをつけましょう。 ホームページをスクロールしていると、出てくる矢印ボタン。 クリックすると、するーっと一番上まで戻ってくれて、見る人にも親切ですね。 今回はWordPress…","tableOfContents":"<ul>\n<li><a href=\"/gototop/#%E3%83%9B%E3%83%BC%E3%83%A0%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AB%E3%81%99%E3%82%8B%E3%83%BC%E3%81%A3%E3%81%A8%E4%B8%8A%E3%81%B8%E6%88%BB%E3%82%8B%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E3%81%A4%E3%81%91%E3%81%BE%E3%81%97%E3%82%87%E3%81%86%E3%80%82\">ホームページにするーっと上へ戻るボタンをつけましょう。</a></li>\n<li><a href=\"/gototop/#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99%EF%BC%9A%E5%AD%90%E3%83%86%E3%83%BC%E3%83%9E%E3%82%92%E7%94%A8%E6%84%8F%E3%81%99%E3%82%8B\">事前準備：子テーマを用意する</a></li>\n<li>\n<p><a href=\"/gototop/#%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E9%85%8D%E7%BD%AE%E3%81%99%E3%82%8B\">ボタンを配置する</a></p>\n<ul>\n<li><a href=\"/gototop/#%E8%A3%9C%E8%B6%B3%EF%BC%9A%E7%9F%A2%E5%8D%B0%E3%81%ABweb%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%82%92%E4%BD%BF%E3%81%86%E3%81%AB%E3%81%AF\">補足：矢印にWebアイコンを使うには</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/gototop/#css%E3%81%A7%E7%9F%A2%E5%8D%B0%E3%82%92%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%99%E3%82%8B\">CSSで矢印をデザインする</a></p>\n<ul>\n<li><a href=\"/gototop/#%E3%83%9C%E3%82%BF%E3%83%B3%E3%81%AE%E8%A1%A8%E7%A4%BA%E4%BD%8D%E7%BD%AE\">ボタンの表示位置</a></li>\n<li><a href=\"/gototop/#%E3%83%9C%E3%82%BF%E3%83%B3%E3%81%AE%E8%A3%85%E9%A3%BE\">ボタンの装飾</a></li>\n<li><a href=\"/gototop/#%E3%83%9E%E3%82%A6%E3%82%B9%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%81%97%E3%81%9F%E3%81%A8%E3%81%8D%E3%81%AE%E5%8B%95%E3%81%8D\">マウスオーバーしたときの動き</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/gototop/#js%E3%81%A7%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%81%A4%E3%81%91%E3%82%8B\">JSでアニメーションをつける</a></p>\n<ul>\n<li><a href=\"/gototop/#head%E3%81%A7js%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%80\"><head>でjsファイルを読み込む</a></li>\n<li><a href=\"/gototop/#js%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%8F\">jsファイルにコードを書く</a></li>\n</ul>\n</li>\n<li><a href=\"/gototop/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n</ul>","html":"<h2 id=\"ホームページにするーっと上へ戻るボタンをつけましょう。\" style=\"position:relative;\">ホームページにするーっと上へ戻るボタンをつけましょう。</h2>\n<p>ホームページをスクロールしていると、出てくる矢印ボタン。 クリックすると、するーっと一番上まで戻ってくれて、見る人にも親切ですね。 今回はWordPressのホームページに、ページトップ戻るボタンを作ってみましょう。</p>\n<p><img src=\"/56344c80520581c84071cad70c9c9743/ss_gotop.gif\" alt=\"トップへ戻るボタンアニメーション\"></p>\n<p>なお、トップへ戻るボタンはプラグインもたくさん用意されているので、「やってみたいけど難しそうだな」って人は、<a href=\"https://wordpress.org/plugins/scroll-back-to-top/\" target=\"_blank\" rel=\"noopener noreferrer\">プラグイン</a>を使ってもいいかもしれません。</p>\n<h2 id=\"事前準備：子テーマを用意する\" style=\"position:relative;\">事前準備：子テーマを用意する</h2>\n<p>WordPressテーマのカスタマイズをするときは、<a href=\"/wp-child-theme/\">子テーマを使ってくださいね</a>。 今回のフォルダ構成はこんな感じ。（親テーマによって変わるかもだけど。）</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">テーマフォルダ\n┗ footer.php ← ページ内にボタンを配置する\n┗ head.php ← jsファイルを読み込む\n┗ style.css ← ボタンのデザインを設定する\n┗ js\n    ┗ main.js ← トップへ戻るボタンの動きを書く</code></pre></div>\n<h2 id=\"ボタンを配置する\" style=\"position:relative;\">ボタンを配置する</h2>\n<p>WordPressのテーマの多くは、footer.phpに</body>が書かれています。</p>\n<p>親テーマからfooter.phpをコピーしてきて、footer.phpファイルを作ります。</p>\n</body>の上にコードを追記してください。\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>gotop<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>js-gotop<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fas fa-arrow-up<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><code class=\"language-text\">&lt;i class=&quot;fas fa-arrow-up&quot;&gt;&lt;/i&gt;</code>は、Webアイコンを使って矢印を表示させています。\n「↑」や「▲」や「TOP」など、文字をそのまま使ってオッケーです。</p>\n<h3 id=\"補足：矢印にwebアイコンを使うには\" style=\"position:relative;\">補足：矢印にWebアイコンを使うには</h3>\n<p>今回は、FontAwsomeというWebアイコンを使っています。 WordPressの時は、テーマ自体にFontAwsomeが使われていることもありますので、ご使用のテーマをご確認くださいませ。\nまず、<head>内にFontAwsome用のCSSを読み込むコードを貼り付けます。</p>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://use.fontawesome.com/releases/v5.1.1/css/all.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>このコードは<a href=\"https://fontawesome.com/how-to-use/on-the-web/setup/getting-started?using=web-fonts-with-css\">Font Awesomeの使い方</a>から持ってきてください。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHuVkpYX//EABYQAAMAAAAAAAAAAAAAAAAAAAEQIP/aAAgBAQABBQKAv//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAABEg/9oACAEBAAY/Aiv/xAAYEAEBAAMAAAAAAAAAAAAAAAABERAgIf/aAAgBAQABPyEYmjq3H//aAAwDAQACAAMAAAAQTA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEQIUFxwf/aAAgBAQABPxBkC1LutS5bODqJr2B9cf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"FontAwsomeの使い方\"\n        title=\"FontAwsomeの使い方\"\n        src=\"/static/1eb69327e40150004e3c40cd74a89b05/4b190/ss-fontawsome-01.jpg\"\n        srcset=\"/static/1eb69327e40150004e3c40cd74a89b05/e07e9/ss-fontawsome-01.jpg 200w,\n/static/1eb69327e40150004e3c40cd74a89b05/066f9/ss-fontawsome-01.jpg 400w,\n/static/1eb69327e40150004e3c40cd74a89b05/4b190/ss-fontawsome-01.jpg 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQME/9oADAMBAAIQAxAAAAF6K4CuMRTP/8QAHBAAAgEFAQAAAAAAAAAAAAAAAAECAwQREhQx/9oACAEBAAEFAjwqze/Ux3LY5ZP/xAAXEQADAQAAAAAAAAAAAAAAAAAAAQIR/9oACAEDAQE/ARxen//EABURAQEAAAAAAAAAAAAAAAAAAAEA/9oACAECAQE/AYS//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAIBECEy/9oACAEBAAY/AqxjmDVr/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARMUFRkf/aAAgBAQABPyGwQ7F2ag1cFaY38piT2ZYAcn//2gAMAwEAAgADAAAAEH/v/8QAGBEBAQADAAAAAAAAAAAAAAAAAQARMXH/2gAIAQMBAT8QckxJrt//xAAWEQEBAQAAAAAAAAAAAAAAAAAAASH/2gAIAQIBAT8QQzX/xAAaEAEAAwEBAQAAAAAAAAAAAAABABExIUFR/9oACAEBAAE/ELNW8cyGLAXq1L6aELjIH7SHWcFZtWqMgKAB5P/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"FontAwsomeの使い方\"\n        title=\"FontAwsomeの使い方\"\n        src=\"/static/997568f1b9b6d66b798b4cf2dad20316/4b190/ss-fontawsome-02.jpg\"\n        srcset=\"/static/997568f1b9b6d66b798b4cf2dad20316/e07e9/ss-fontawsome-02.jpg 200w,\n/static/997568f1b9b6d66b798b4cf2dad20316/066f9/ss-fontawsome-02.jpg 400w,\n/static/997568f1b9b6d66b798b4cf2dad20316/4b190/ss-fontawsome-02.jpg 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeqoJtI//8QAGBAAAgMAAAAAAAAAAAAAAAAAABMBAgP/2gAIAQEAAQUCWKFCsyM6Vk//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAABBAMBAAAAAAAAAAAAAAAAAQIzkQMQETL/2gAIAQEABj8CkfZI+yTJZ5Q6jdf/xAAXEAEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEBAAE/Idz1226rOuzYBDF//9oADAMBAAIAAwAAABBbz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQEBAAIDAQAAAAAAAAAAAAERAGHRMVGB4f/aAAgBAQABPxAZgE4dYnXDPzhCw+OsrYSr7caFxKbw3//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"FontAwsomeの使い方\"\n        title=\"FontAwsomeの使い方\"\n        src=\"/static/39c571eeac723ab32b27481213eeaa2a/4b190/ss-fontawsome-03.jpg\"\n        srcset=\"/static/39c571eeac723ab32b27481213eeaa2a/e07e9/ss-fontawsome-03.jpg 200w,\n/static/39c571eeac723ab32b27481213eeaa2a/066f9/ss-fontawsome-03.jpg 400w,\n/static/39c571eeac723ab32b27481213eeaa2a/4b190/ss-fontawsome-03.jpg 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"cssで矢印をデザインする\" style=\"position:relative;\">CSSで矢印をデザインする</h2>\n<p>style.cssに以下のコードを追記していってください。</p>\n<h3 id=\"ボタンの表示位置\" style=\"position:relative;\">ボタンの表示位置</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDAgb/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHoI2yIYf/EABoQAQACAwEAAAAAAAAAAAAAAAEAEQIDEBL/2gAIAQEAAQUCmzPwDZEvn//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAABARIf/aAAgBAQAGPwIpp//EABoQAQEAAgMAAAAAAAAAAAAAAAERABAxUWH/2gAIAQEAAT8hwSWt6yAOEuiEAnuv/9oADAMBAAIAAwAAABBAz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFBEFFx/9oACAEBAAE/EIEdigp7uA0aQvp42cqhZHGCf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"右下にボタン固定表示\"\n        title=\"右下にボタン固定表示\"\n        src=\"/static/e6ec861012d55ce37f08356c3386b8cd/65f94/ss-gotop-01.jpg\"\n        srcset=\"/static/e6ec861012d55ce37f08356c3386b8cd/e07e9/ss-gotop-01.jpg 200w,\n/static/e6ec861012d55ce37f08356c3386b8cd/066f9/ss-gotop-01.jpg 400w,\n/static/e6ec861012d55ce37f08356c3386b8cd/65f94/ss-gotop-01.jpg 420w\"\n        sizes=\"(max-width: 420px) 100vw, 420px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<div class=\"gatsby-code-title\">style.css</div>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\">.gotop {\n    display: none; /* ①はじめは非表示にする */\n    position: fixed; /* ②固定表示 */\n    right: 16px; /* ②右から16px */\n    bottom: 16px; /* ②下から16px *\n    z-index: 9999; /* ②重ね順は一番上に */\n}</code></pre></div>\n<p>①は初期設定です。 ページを開いたときは、矢印を表示させたくないので、<code class=\"language-text\">display:none</code>で非表示にします。</p>\n<p>あとで、javascriptで、表示/非表示を切り替えます。</p>\n<p>②は表示させる位置の設定です。右下に固定で表示させます。</p>\n<h3 id=\"ボタンの装飾\" style=\"position:relative;\">ボタンの装飾</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdtLTEKh/8QAGBABAQEBAQAAAAAAAAAAAAAAAQIAEhH/2gAIAQEAAQUC61XyL1vDXJUkgf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAMBAQAAAAAAAAAAAAAAAAABERAh/9oACAEBAAY/AiiedRIf/8QAGxABAQABBQAAAAAAAAAAAAAAAQARITFhcfH/2gAIAQEAAT8hUeWuHB1CB2S4CegMEAAv/9oADAMBAAIAAwAAABBwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESFBMVFxgeH/2gAIAQEAAT8QSABxePqYROgW1XrDERu0J5ZwauMQ44ImqfUE0VAan//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"矢印ボタンをマウスオーバー\"\n        title=\"矢印ボタンをマウスオーバー\"\n        src=\"/static/7429d34f734d9267e2c54a3457af86cb/65f94/ss-gotop-02.jpg\"\n        srcset=\"/static/7429d34f734d9267e2c54a3457af86cb/e07e9/ss-gotop-02.jpg 200w,\n/static/7429d34f734d9267e2c54a3457af86cb/066f9/ss-gotop-02.jpg 400w,\n/static/7429d34f734d9267e2c54a3457af86cb/65f94/ss-gotop-02.jpg 420w\"\n        sizes=\"(max-width: 420px) 100vw, 420px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<div class=\"gatsby-code-title\">style.css</div>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\">.gotop a {\n    display: block;\n    width: 32px; /* ③矢印の幅 */\n    height: 32px; /* ③矢印の高さ */\n    leign-height:32px; /* ③矢印の文字大きさ */\n    padding: 8px; /* ③円の余白 */\n    text-align: center; /* ③矢印は中央に表示する */\n    cursor: pointer; /* ④矢印にマウスが乗ったらカーソルにする */\n    background: rgba(0, 0, 0, 0.5); /* ⑥背景を透過グレーに*/\n    color: #fff; /* ⑥文字を白にする */\n    -webkit-border-radius: 30px; /* ⑦角を丸くする */\n    -moz-border-radius: 30px; /* ⑦角を丸くする */\n    -ms-border-radius: 30px; /* ⑦角を丸くする */\n    border-radius: 30px; /* ⑦角を丸くする */\n}</code></pre></div>\n<p>③矢印の大きさ、表示位置を調整しています</p>\n<p>④矢印マウスオーバー</p>\n<p>⑥矢印の背景、文字色を設定しています。ここで透過しておくと、コンテンツに矢印が重なった時にも邪魔しません。</p>\n<p>⑦矢印の形を円にしています。</p>\n<h3 id=\"マウスオーバーしたときの動き\" style=\"position:relative;\">マウスオーバーしたときの動き</h3>\n<p><img src=\"/6e3e8d08f47ca2eadff104cd0b8c1862/ss_gotop-2.gif\" alt=\"矢印ボタンをマウスオーバー\"></p>\n<p> マウスオーバーするとふわっと薄くなります。</p>\n<div class=\"gatsby-code-title\">style.css</div>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\">.gotop a:hover,\n.gotop a:active,\n.gotop a:focus {\n    opacity: 0.85; /* ⑧マウスが乗った時に背景色を薄くする */\n    -webkit-transition: 0.5s; /* ⑨ふわっと薄くする */\n    -o-transition: 0.5s; /* ⑨ふわっと薄くする */\n    transition: 0.5s; /* ⑨ふわっと薄くする */\n}</code></pre></div>\n<h2 id=\"jsでアニメーションをつける\" style=\"position:relative;\">JSでアニメーションをつける</h2>\n<h3 id=\"headでjsファイルを読み込む\" style=\"position:relative;\"><head>でjsファイルを読み込む</h3>\n<p> 新たに作成するjsファイルを読み込むコードを追記しましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>&lt;?php echo get\\_stylesheet\\_directory\\_uri(); ?>/js/script.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token prolog\">&lt;?php wp\\_head(); ?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ちなみに、今回のコードはjQueryを使います。 WordPressではすでにJqueryが読み込まれているので新たに読む必要はありません。</p>\n<h3 id=\"jsファイルにコードを書く\" style=\"position:relative;\">jsファイルにコードを書く</h3>\n<p>main.jsに以下のコードをかきます。</p>\n<div class=\"gatsby-code-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\">jQuery(function(){\n// ①スクロールした時に、矢印を表示/非表示させる処理\n    jQuery(window).scroll(\n    function(){\n        // ①-1 ページ最初からスクロールした位置を取得\n        var pos = jQuery(window).scrollTop();\n        if(pos > 600){\n            // ①-2 ページの一番上から600px以上スクロールしたら、.gototopの要素をゆっくり表示する\n            jQuery('.gotop').fadeIn('slow');\n        }else{\n            // ①-3 それ以外のとき、.gototopの要素をゆっくり非表示にする\n            jQuery('.gotop').fadeOut('slow');\n        }\n    });\n\n    // ②矢印のリンクボタンをクリックしたら上に戻る処理\n    jQuery('.js-gotop').click(function(){\n    jQuery('body,html').animate({ // ページトップへ移動する\n        scrollTop: 0 // ②-1 body,html要素の一番上まで動く\n        }, 500); // ②-2 上へ戻るまでの時間（500ミリ秒=0.5秒）\n    });\n});</code></pre></div>\n<p>①スクロールした時の処理と②リンクをクリックしたときの処理の２つ用意します。</p>\n<p>①スクロールした時に矢印の表示/非表示を切り替えます</p>\n<p><code class=\"language-text\">$(window).scroll</code>：ウィンドウがスクロールした時に行う</p>\n<p><code class=\"language-text\">[A].scrollTop</code>：要素A（今回はウィンドウ全体）のスクロールした位置をピクセルで取得します。</p>\n<p><code class=\"language-text\">if(pos &gt; 600)</code>：スクロールした位置によって表示するか、非表示するか、処理を切り替えます。 スマホの縦幅がだいたい500〜700pxなので、だいたい一画面分くらいスクロールしたら表示させるようにしています。</p>\n<p><code class=\"language-text\">[A].fadeIn()</code>：要素Aをフェードイン 今回は、要素Aは<div class=“gotop”>の.gotopになっています。</p>\n<p><code class=\"language-text\">[A].fadeOut()</code>：要素Aをフェードアウトさせます。スクロールで上に戻ったときに矢印を消します。</p>\n<p><code class=\"language-text\">fadeIn()</code>と<code class=\"language-text\">fadeOut()</code>の内には、表示する速度として、slow、normal、fast、数値(ミリ秒）を設定できます。</p>\n<p>②矢印をクリックしたときにするする〜っと上に戻ります。</p>\n<p><code class=\"language-text\">[A].animate({動かす位置}, スピード);</code></p>\n<p>body,html要素（＝ホームページ全体）について、スクロールバーの上の位置を0へ（＝一番上）に動かします。</p>\n<h2 id=\"まとめ\" style=\"position:relative;\">まとめ</h2>\n<iframe height=\"265\" style=\"width: 100%;\" scrolling=\"no\" title=\"ページトップへ戻る\" src=\"https://codepen.io/filledforest/embed/gjLdqz?height=265&theme-id=light&default-tab=css,result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href='https://codepen.io/filledforest/pen/gjLdqz'>ページトップへ戻る</a> by Emi\n  (<a href='https://codepen.io/filledforest'>@filledforest</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n  ※注意：CodePenのJavaScriptコード「＄」のところ、WordPressでは「jQuery」に置き換えて使います。","frontmatter":{"title":"【WordPress】ページトップへ戻るボタンを追加する","date":"2018/07/20","updateDate":null,"description":null,"category":"WordPress","tags":null,"featured":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB71pZRaL/AP/EABkQAQADAQEAAAAAAAAAAAAAAAEAERIQIv/aAAgBAQABBQLRq4qyvLz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAGBAAAgMAAAAAAAAAAAAAAAAAEBEgMUH/2gAIAQEABj8CWi1D/8QAGhABAQACAwAAAAAAAAAAAAAAAQARITFRcf/aAAgBAQABPyHcz8QupLVARmIGrm//2gAMAwEAAgADAAAAEB/v/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QR//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxB0j//EABoQAQEBAQEBAQAAAAAAAAAAAAERADEhYZH/2gAIAQEAAT8QUB4FfjKUr9ydmPIA6GL1zmJBe4UC93//2Q==","aspectRatio":1.7699115044247788,"src":"/static/18ddf6cea40c9861058f47878840c865/14b42/20180720_icatch.jpg","srcSet":"/static/18ddf6cea40c9861058f47878840c865/f836f/20180720_icatch.jpg 200w,\n/static/18ddf6cea40c9861058f47878840c865/2244e/20180720_icatch.jpg 400w,\n/static/18ddf6cea40c9861058f47878840c865/14b42/20180720_icatch.jpg 800w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"/gototop/","prev":{"fields":{"slug":"/html5-markup/"},"frontmatter":{"title":"【内部SEO】検索エンジンに評価されるマークアップとタグの使い分けとは？"}},"next":{"fields":{"slug":"/wordpress-pulldown-menu/"},"frontmatter":{"title":"【WordPress】プルダウンメニューのデザインを整える"}}}},"staticQueryHashes":["1941199855","3628787746","4032985131"]}