---
title: LivedoorブログからWordPressへのお引っ越し手順
date: 2020-05-10T18:58:00+09:00
featured: icatch-20200510.jpg
category: Programming
status: published
---

LivedoorブログからWordPressへ引っ越しの手順と注意点をまとめます。

引越しの手順
1. データのエクスポート（記事、画像）
2. 記事データの変換
3. WordPressのパーマリンクを設定
4. データをアップロード（記事、画像）

## ライブドアブログからデータをエクスポート

### 記事データのエクスポート

ライブドアブログの管理画面から、「ブログ設定」→「バックアップ（エクスポート）」をクリックします。

「ブログの書き出し」画面が表示されます。

* カテゴリ：すべてのカテゴリ
* 期間：すべての期間
* コメント/TB：コメントを含める
* 記事：すべてにチェック
* 改行：改行をそのまま出力
* 圧縮：チェックしない

改行を「改行をそのまま出力」にチェックしていることを確認して、「ブログのデータを書きだす」をクリックします。

記事データ「backup.txt」をダウンロードできます。

### ブログ画像のダウンロード

Livedoorブログには画像をエクスポートする機能がないため、スクレイピングツールなどで画像を抽出して保存する必要があります。

## 記事データの文字列を置き換える

記事データ「backup.txt」の文字列を書き換えます。

テキストエディタを開いて、ライブドアブログのURLからWordPressのブログになるように文字列を一括置換します。

私は「Sublime Text」を使っています。

### ①画像のURL

旧： https://livedoor.blogimg.jp/ライブドアID/imgs/●/●/

新： https://独自ドメイン/wp-content/uploads/images/

●の部分は半角英数字（記号も含む？）1文字で、画像ごとに変わります。

この部分は、正規表現で`[ -~]`と検索するとひっかかります。

検索文字列
`https://livedoor.blogimg.jp/ライブドアID/imgs/[ -~]/[ -~]/`

![](ss-20200510-01.jpg)

### ②タグ（タグ未使用の場合は設定不要）

旧：TAG

新：TAGS

### ③内部リンク

旧：http://blog.livedoor.jp/ライブドアID/archives/

新：https://独自ドメイン/archives/

### ④投稿状態
もし、記事を下書き状態に変更してアップロードしたい場合は下記のように変更しましょう。

旧：STATUS: Publish

新：STATUS: Draft

## パーマリンクの形式を設定する

LivedoorブログからWordPressへ自動転送させる場合、WordPressのパーマリンクをLivedoorブログの記事URLに合わせて設定します。（特にパーマリンクにこだわらない場合はこの手順はスキップしてOKです）

URL
旧：http://blog.livedoor.jp/ライブドアID/archives/記事番号の.html

新：https://独自ドメイン/archives/

「カスタム構造」を選択して、下記のいずれかを設定します。

手動で設定：「/archives/%postname%.html」

数字ベース：「/archives/%post\_id%.html」

[パーマリンクの解説](/about-permlink/)

## WordPressにデータをインポート

### 画像フォルダのアップロード

FTPソフトを使って、画像フォルダをWordPressのサーバーにアップロードします。（ここでは画像をまとめて「images」というフォルダに入れています。）

* [初心者でも使える！フリーのFTPクライアントソフト10選](https://techacademy.jp/magazine/1190)

画像フォルダのアップロード場所
`/ドメイン/public\_html/wp-content/uploads/`

フォルダをアップロードした時点では、管理画面のメディアライブラリに画像が表示されません。「Media from FTP」というプラグインで見えるようになります。

### 記事データのインポート

WordPressに記事データ「backup.txt」を取り込みます。

WordPressの管理画面から「ツール」 → 「インポート」を選択します。

「Movable Type と TypePad」を「今すぐインストール」します。

インストール完了後、 「インポーターの実行」をクリック。

「backup.txt」を選択します。

投稿者の割り当ては任意のユーザー名を入力します。
実行」を押すとインポートが開始されます。

これで記事のインポートが完了しました。

最後に、各記事の画像やリンクが表示されているかを確認しましょう。プラグイン 「Broken Link Checker」を使うと、リンク切れの箇所をお知らせしてくれます。
